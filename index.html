<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Senderismo</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script src="https://www.google.com/jsapi"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <div>
      <div id="map" style="height:800px;"></div>
      <div id="elevation_chart"></div>
      <script>
        // Load the Visualization API and the columnchart package.
      google.load('visualization', '1', {packages: ['columnchart']});

      function initMap() {
        // The following path marks a path from Mt. Whitney, the highest point in the
        // continental United States to Badwater, Death Valley, the lowest point.
		
		var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 6.5,
		  //記得挑個地圖中心
          center: {lat: 40.1680665, lng: -4.0660689},		  
          mapTypeId: 'terrain'
        });
		
		//Canfranc01
		{var Canfranc01 = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/Canfranc01.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					Canfranc01 = data;
				} 
			});
		}
		var PathCanfranc01 = new google.maps.Polyline({
          path: Canfranc01.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathCanfranc01.setMap(map);
		//Canfranc02
		{var Canfranc02 = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/Canfranc02.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					Canfranc02 = data;
				} 
			});
		}
		var PathCanfranc02 = new google.maps.Polyline({
          path: Canfranc02.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathCanfranc02.setMap(map);
		//Canfranc03
		{var Canfranc03 = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/Canfranc03.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					Canfranc03 = data;
				} 
			});
		}
		var PathCanfranc03 = new google.maps.Polyline({
          path: Canfranc03.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathCanfranc03.setMap(map);
		
		//Ruta Costal
		//Sant Vicenç de Calders - Cubelles
		{var SVincenCubelles = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/Cubelles_SantVicenc.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					SVincenCubelles = data;
				} 
			});
		}
		var PathSVincenCubelles = new google.maps.Polyline({
          path: SVincenCubelles.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathSVincenCubelles.setMap(map);
		//Cubelles - Vilanova i la Geltru
		{var CubellesVNG = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/VNG_Cubelles.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					CubellesVNG = data;
				} 
			});
		}
		var PathCubellesVNG = new google.maps.Polyline({
          path: CubellesVNG.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathCubellesVNG.setMap(map);
		//Vilanova i la Geltru - Sitges
		{var VNG_Sitges = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/VNG_Sitges.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					VNG_Sitges = data;
				} 
			});
		}
		var PathVNG_Sitges = new google.maps.Polyline({
          path: VNG_Sitges.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathVNG_Sitges.setMap(map);
		//Sitges - Castellfels
		{var SitgesCastelldefels = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/SitgesCastelldefels.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					SitgesCastelldefels = data;
				} 
			});
		}
		var PathSitgesCastelldefels = new google.maps.Polyline({
          path: SitgesCastelldefels.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathSitgesCastelldefels.setMap(map);
		//Castefells - Sants
		{var CastefellsSants = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/CastefellsSants.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					CastefellsSants = data;
				} 
			});
		}
		var PathCastefellsSants = new google.maps.Polyline({
          path: CastefellsSants.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathCastefellsSants.setMap(map);
		//Sants - Badalona
		{var BarcelonaBadalona = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/BarcelonaBadalona.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					BarcelonaBadalona = data;
				} 
			});
		}
		var PathBarcelonaBadalona = new google.maps.Polyline({
          path: BarcelonaBadalona.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathBarcelonaBadalona.setMap(map);
		//Badalona-Montgat
		{var Montgat = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/Rutas/Montgat.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					Montgat = data;
				} 
			});
		}
		var PathMontgat = new google.maps.Polyline({
          path: Montgat.Coor,
          geodesic: true,
          strokeColor: '#000000',
          strokeOpacity: 1,
        });
		PathMontgat.setMap(map);
		
		//FFCC
		//Color #ff9011 para Rodalies
		//Color #c400ad para AVE
		//Color #e57a00 para FGC'
		
		//Color #0015ff para Cremallera de FGC
		
		//Rodalies Sants - Puigcerdà
		{var RodaliesPuigcerda = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/CatalunyaR3.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					RodaliesPuigcerda = data;
				} 
			});
		}
		var PathRodaliesPuigcerda = new google.maps.Polyline({
          path: RodaliesPuigcerda.Coor,
          geodesic: true,
          strokeColor: '#ff9011',
          strokeOpacity: 1,
        });
		PathRodaliesPuigcerda.setMap(map);
		
		//AVE Zaragoza Variante
		{var AVE_ZaragozaVar = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/AVE.Zaragora_Variante.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					AVE_ZaragozaVar = data;
				} 
			});
		}
		var PathAVE_ZaragozaVar = new google.maps.Polyline({
          path: AVE_ZaragozaVar.Coor,
          geodesic: true,
          strokeColor: '#c400ad',
          strokeOpacity: 1,
        });
		PathAVE_ZaragozaVar.setMap(map);
		//AVE Zaragoza - Barcelona Sants
		{var AVE_ZaragozaBarcelona = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/AVE.ZaragoraSants.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					AVE_ZaragozaBarcelona = data;
				} 
			});
		}
		var PathAVE_ZaragozaBarcelona = new google.maps.Polyline({
          path: AVE_ZaragozaBarcelona.Coor,
          geodesic: true,
          strokeColor: '#c400ad',
          strokeOpacity: 1,
        });
		PathAVE_ZaragozaBarcelona.setMap(map);
		//AVE Lleida Variante
		{var AVE_LleidaVar = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/AVE.Lleida_Variante.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					AVE_LleidaVar = data;
				} 
			});
		}
		var PathAVE_LleidaVar = new google.maps.Polyline({
          path: AVE_LleidaVar.Coor,
          geodesic: true,
          strokeColor: '#c400ad',
          strokeOpacity: 1,
        });
		PathAVE_LleidaVar.setMap(map);
		//AVE Barcelona Sants - Girona
		{var AVE_BarcelonaGirona = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/AVE.SantsGirona.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					AVE_BarcelonaGirona = data;
				} 
			});
		}
		var PathAVE_BarcelonaGirona = new google.maps.Polyline({
          path: AVE_BarcelonaGirona.Coor,
          geodesic: true,
          strokeColor: '#c400ad',
          strokeOpacity: 1,
        });
		PathAVE_BarcelonaGirona.setMap(map);
		
		//FGC Barcelona-Vallès(Pl. Catalunya - Terrassa)
		{var FGC_CatalunyaTerrassa = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/FGC.BCN_Valles.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					FGC_CatalunyaTerrassa = data;
				} 
			});
		}
		var PathFGC_CatalunyaTerrassa = new google.maps.Polyline({
          path: FGC_CatalunyaTerrassa.Coor,
          geodesic: true,
          strokeColor: '#e57a00',
          strokeOpacity: 1,
        });
		PathFGC_CatalunyaTerrassa.setMap(map);
		//FGC Anoia-Llobregat (Pl. Espanya - Montserrat)
		{var FGC_EspanyaMontserrat = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/FGC.Anoia_Llobregat.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					FGC_EspanyaMontserrat = data;
				} 
			});
		}
		var PathFGC_EspanyaMontserrat = new google.maps.Polyline({
          path: FGC_EspanyaMontserrat.Coor,
          geodesic: true,
          strokeColor: '#e57a00',
          strokeOpacity: 1,
        });
		PathFGC_EspanyaMontserrat.setMap(map);
		
		//FGC Cremallera de Montserrat
		{var CremalleraMontserrat = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/CremalleraMontserrat.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					CremalleraMontserrat = data;
				} 
			});
		}
		var PathCremalleraMontserrat = new google.maps.Polyline({
          path: CremalleraMontserrat.Coor,
          geodesic: true,
          strokeColor: '#0015ff',
          strokeOpacity: 1,
        });
		PathCremalleraMontserrat.setMap(map);
		//FGC Cremallera de Nuria
		{var CremalleraNuria = null;
			$.ajax({
				url: "https://arrrsenderismopeninsular.github.io/FFCC/CremalleraNuria.json",
				type: 'get',
				dataType: 'json',
				async: false,
				success: function(data) {
					CremalleraNuria = data;
				} 
			});
		}
		var PathCremalleraNuria = new google.maps.Polyline({
          path: CremalleraNuria.Coor,
          geodesic: true,
          strokeColor: '#0015ff',
          strokeOpacity: 1,
        });
		PathCremalleraNuria.setMap(map);
		
		
		
		


        // Create an ElevationService.
        var elevator = new google.maps.ElevationService;

        // Draw the path, using the Visualization API and the Elevation service.
        //displayPathElevation(Montgat, elevator, map);
		//displayPathElevation(Canfranc01, elevator, map);
		
		//Display the routes
		//Display Catalunya
		
		
      }


	  
      function displayPathElevation(path, elevator, map) {
        // Display a polyline of the elevation path.
        new google.maps.Polyline({
          path: path,
          strokeColor: '#000000',
          strokeOpacity: 1,
          map: map
        });

        // Create a PathElevationRequest object using this array.
        // Ask for 256 samples along that path.
        // Initiate the path request.
        elevator.getElevationAlongPath({
          'path': path,
          'samples': 500
        }, plotElevation);
      }

      // Takes an array of ElevationResult objects, draws the path on the map
      // and plots the elevation profile on a Visualization API ColumnChart.
      function plotElevation(elevations, status) {
        var chartDiv = document.getElementById('elevation_chart');
        if (status !== 'OK') {
          // Show the error code inside the chartDiv.
          chartDiv.innerHTML = 'Cannot show elevation: request failed because ' +
              status;
          return;
        }
        // Create a new chart in the elevation_chart DIV.
        var chart = new google.visualization.ColumnChart(chartDiv);

        // Extract the data from which to populate the chart.
        // Because the samples are equidistant, the 'Sample'
        // column here does double duty as distance along the
        // X axis.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Milestone');
        data.addColumn('number', 'Elevation');
		var totalLength = 23100;
        for (var i = 0; i < elevations.length; i++) {
			var PK = totalLength*i/elevations.length;
			data.addRow(['', elevations[i].elevation]);
        }

        // Draw the chart using the data within its DIV.
        chart.draw(data, {
          height: 450,
          legend: 'none',
          titleY: 'Altitud (m)'
        });
      }
      </script>
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJjIjd9Wh0W4pjt044iElfiuL-P-J_kOw&callback=initMap">
      </script>
    </div>
  </body>
</html>